class Solution:
    def minMalwareSpread(self, graph: List[List[int]], initial: List[int]) -> int:
        
        main_graph = defaultdict(list)
        initial_set = set(initial)
        
        for i in range(len(graph)):
            
            for j in range(i+1,len(graph)):
                if graph[i][j] == 1 and i != j :
                    main_graph[i].append(j)
                    main_graph[j].append(i)
        
        def BFS(stack):
            visited = set()
            count = 0
            
            while stack:
                
                ele = stack.pop()
                
                
                if ele in visited :
                    continue
                    
                if ele in initial_set:
                    count += 1
                    
                visited.add(ele)
                
                for neghibour in main_graph[ele]:
                    
                    stack.append(neghibour)
                    
            return len(visited),count
        
        ans = 0
        max_ = 0
        truth = False
        initial.sort()
        
        for i in range(len(initial)):
            
            size,tem_count = BFS([initial[i]])
            if tem_count == 1 and size > max_ :
                ans = initial[i]
                max_ = size
                truth = True                
        if not truth:
            ans = min(initial)
        return ans
            
            
            
                    
        